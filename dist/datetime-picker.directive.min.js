!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e,t){function i(){return new Date(Date.UTC.apply(Date,arguments))}function a(){var e=new Date;return i(e.getFullYear(),e.getMonth(),e.getDate())}function s(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function n(e){return function(){return this[e].apply(this,arguments)}}function r(e){return e&&!isNaN(e.getTime())}function o(t,i){function a(e,t){return t.toLowerCase()}var s,n=e(t).data(),r={},o=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in n)i.test(l)&&(s=l.replace(o,a),r[s]=n[l]);return r}function l(t){var i={};if(g[t]||(t=t.split("-")[0],g[t])){var a=g[t];return e.each(m,function(e,t){t in a&&(i[t]=a[t])}),i}}var h=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,a=this.length;i<a;i++)if(0<=this[i].valueOf()-t&&this[i].valueOf()-t<864e5)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new h;return e.replace(this),e}};return function(){var i=[];return i.push.apply(i,arguments),e.extend(i,t),i}}(),c=function(t,i){e.data(t,"datepicker",this),this._process_options(i),this.dates=new h,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=e(v.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return Number(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.setViewMode(this.o.startView),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.isInline&&this.show()};c.prototype={constructor:c,_resolveViewName:function(t){return e.each(v.viewModes,function(i,a){if(t===i||e.inArray(t,a.names)!==-1)return t=i,!1}),t},_resolveDaysOfWeek:function(t){return e.isArray(t)||(t=t.split(/[,\s]*/)),e.map(t,Number)},_check_template:function(i){try{if(i===t||""===i)return!1;if((i.match(/[<>]/g)||[]).length<=0)return!0;var a=e(i);return a.length>0}catch(e){return!1}},_process_options:function(t){this._o=e.extend({},this._o,t);var s=this.o=e.extend({},this._o),n=s.language;g[n]||(n=n.split("-")[0],g[n]||(n=f.language)),s.language=n,s.startView=this._resolveViewName(s.startView),s.minViewMode=this._resolveViewName(s.minViewMode),s.maxViewMode=this._resolveViewName(s.maxViewMode),s.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,s.startView)),s.multidate!==!0&&(s.multidate=Number(s.multidate)||!1,s.multidate!==!1&&(s.multidate=Math.max(0,s.multidate))),s.multidateSeparator=String(s.multidateSeparator),s.weekStart%=7,s.weekEnd=(s.weekStart+6)%7;var r=v.parseFormat(s.format);s.startDate!==-(1/0)&&(s.startDate?s.startDate instanceof Date?s.startDate=this._local_to_utc(this._zero_time(s.startDate)):s.startDate=v.parseDate(s.startDate,r,s.language,s.assumeNearbyYear):s.startDate=-(1/0)),s.endDate!==1/0&&(s.endDate?s.endDate instanceof Date?s.endDate=this._local_to_utc(this._zero_time(s.endDate)):s.endDate=v.parseDate(s.endDate,r,s.language,s.assumeNearbyYear):s.endDate=1/0),s.daysOfWeekDisabled=this._resolveDaysOfWeek(s.daysOfWeekDisabled||[]),s.daysOfWeekHighlighted=this._resolveDaysOfWeek(s.daysOfWeekHighlighted||[]),s.datesDisabled=s.datesDisabled||[],e.isArray(s.datesDisabled)||(s.datesDisabled=s.datesDisabled.split(",")),s.datesDisabled=e.map(s.datesDisabled,function(e){return v.parseDate(e,r,s.language,s.assumeNearbyYear)});var o=String(s.orientation).toLowerCase().split(/\s+/g),l=s.orientation.toLowerCase();if(o=e.grep(o,function(e){return/^auto|left|right|top|bottom$/.test(e)}),s.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===o.length)switch(o[0]){case"top":case"bottom":s.orientation.y=o[0];break;case"left":case"right":s.orientation.x=o[0]}else l=e.grep(o,function(e){return/^left|right$/.test(e)}),s.orientation.x=l[0]||"auto",l=e.grep(o,function(e){return/^top|bottom$/.test(e)}),s.orientation.y=l[0]||"auto";else;if(s.defaultViewDate){var h=s.defaultViewDate.year||(new Date).getFullYear(),c=s.defaultViewDate.month||0,d=s.defaultViewDate.day||1;s.defaultViewDate=i(h,c,d)}else s.defaultViewDate=a()},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var i,a,s,n=0;n<e.length;n++)i=e[n][0],2===e[n].length?(a=t,s=e[n][1]):3===e[n].length&&(a=e[n][1],s=e[n][2]),i.on(s,a)},_unapplyEvents:function(e){for(var i,a,s,n=0;n<e.length;n++)i=e[n][0],2===e[n].length?(s=t,a=e[n][1]):3===e[n].length&&(s=e[n][1],a=e[n][2]),i.off(a,s)},_buildEvents:function(){var t={keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this),paste:e.proxy(this.paste,this)};this.o.showOnFocus===!0&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.inputField.length?this._events=[[this.inputField,t],[this.component,{click:e.proxy(this.show,this)}]]:this._events=[[this.element,{click:e.proxy(this.show,this),keydown:e.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":e.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[this.picker,".prev, .next",{click:e.proxy(this.navArrowsClick,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var a=i||this.dates.get(-1),s=this._utc_to_local(a);this.element.trigger({type:t,date:s,viewMode:this.viewMode,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return v.formatDate(i,t,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&this.o.enableOnReadonly===!1))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&e.inArray("text/plain",t.originalEvent.clipboardData.types)!==-1)i=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i),this.update(),t.preventDefault()},_utc_to_local:function(e){if(!e)return e;var t=new Date(e.getTime()+6e4*e.getTimezoneOffset());return t.getTimezoneOffset()!==e.getTimezoneOffset()&&(t=new Date(e.getTime()+6e4*t.getTimezoneOffset())),t},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&i(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return e!==t?new Date(e):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,e.map(t,this._utc_to_local)),this},setDate:n("setDates"),setUTCDate:n("setUTCDates"),remove:n("destroy"),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(i){i===t&&(i=this.o.format);var a=this.o.language;return e.map(this.dates,function(e){return v.formatDate(e,i,a)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){return this._process_options({datesDisabled:e}),this.update(),this},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),i=this.picker.outerHeight(),a=10,s=e(this.o.container),n=s.width(),r="body"===this.o.container?e(document).scrollTop():s.scrollTop(),o=s.offset(),l=[];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==t&&l.push(parseInt(t))});var h=Math.max.apply(Math,l)+this.o.zIndexOffset,c=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=c.left-o.left,f=c.top-o.top;"body"!==this.o.container&&(f+=r),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=t-u)):c.left<0?(this.picker.addClass("datepicker-orient-left"),p-=c.left-a):p+t>n?(this.picker.addClass("datepicker-orient-right"),p+=u-t):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var m,g=this.o.orientation.y;if("auto"===g&&(m=-r+f-i,g=m<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+g),"top"===g?f-=i+parseInt(this.picker.css("padding-top")):f+=d,this.o.rtl){var v=n-(p+u);this.picker.css({top:f,right:v,zIndex:h})}else this.picker.css({top:f,left:p,zIndex:h});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),i=[],a=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)},this)),a=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=e.map(i,e.proxy(function(e){return v.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),i=e.grep(i,e.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(i),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),a?(this.setValue(),this.element.change()):this.dates.length&&String(t)!==String(this.dates)&&a&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&t.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){var t=this.o.weekStart,i="<tr>";for(this.o.calendarWeeks&&(i+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)i+='<th class="dow',e.inArray(t,this.o.daysOfWeekDisabled)!==-1&&(i+=" disabled"),i+='">'+g[this.o.language].daysMin[t++%7]+"</th>";i+="</tr>",this.picker.find(".datepicker-days thead").append(i)},fillMonths:function(){for(var e=this._utc_to_local(this.viewDate),t="",i=0;i<12;){var a=e&&e.getMonth()===i?" focused":"";t+='<span class="month'+a+'">'+g[this.o.language].monthsShort[i++]+"</span>"}this.picker.find(".datepicker-months td").html(t)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var i=[],n=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),o=a();return t.getUTCFullYear()<n||t.getUTCFullYear()===n&&t.getUTCMonth()<r?i.push("old"):(t.getUTCFullYear()>n||t.getUTCFullYear()===n&&t.getUTCMonth()>r)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&s(t,o)&&i.push("today"),this.dates.contains(t)!==-1&&i.push("active"),this.dateWithinRange(t)||i.push("disabled"),this.dateIsDisabled(t)&&i.push("disabled","disabled-date"),e.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)!==-1&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),e.inArray(t.valueOf(),this.range)!==-1&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,a,s,n,r,o,l,h){var c,d,u,p,f,m,g,v,y,D,k;for(c="",d=this.picker.find(i),u=parseInt(r/s,10)*s,f=parseInt(o/n,10)*n,m=parseInt(l/n,10)*n,p=e.map(this.dates,function(e){return parseInt(e.getUTCFullYear()/n,10)*n}),d.find(".datepicker-switch").text(u+"-"+(u+9*n)),g=u-n,v=-1;v<11;v+=1)y=[a],D=null,v===-1?y.push("old"):10===v&&y.push("new"),e.inArray(g,p)!==-1&&y.push("active"),(g<f||g>m)&&y.push("disabled"),g===this.viewDate.getFullYear()&&y.push("focused"),h!==e.noop&&(k=h(new Date(g,0,1)),k===t?k={}:"boolean"==typeof k?k={enabled:k}:"string"==typeof k&&(k={classes:k}),k.enabled===!1&&y.push("disabled"),k.classes&&(y=y.concat(k.classes.split(/\s+/))),k.tooltip&&(D=k.tooltip)),c+='<span class="'+y.join(" ")+'"'+(D?' title="'+D+'"':"")+">"+g+"</span>",g+=n;d.find("td").html(c)},fill:function(){var a,s,n=new Date(this.viewDate),r=n.getUTCFullYear(),o=n.getUTCMonth(),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),h=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=g[this.o.language].today||g.en.today||"",p=g[this.o.language].clear||g.en.clear||"",f=g[this.o.language].titleFormat||g.en.titleFormat;if(!isNaN(r)&&!isNaN(o)){this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(n,f,this.o.language)),this.picker.find("tfoot .today").text(u).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(p).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var m=i(r,o,0),y=m.getUTCDate();m.setUTCDate(y-(m.getUTCDay()-this.o.weekStart+7)%7);var D=new Date(m);m.getUTCFullYear()<100&&D.setUTCFullYear(m.getUTCFullYear()),D.setUTCDate(D.getUTCDate()+42),D=D.valueOf();for(var k,w,T=[];m.valueOf()<D;){if(k=m.getUTCDay(),k===this.o.weekStart&&(T.push("<tr>"),this.o.calendarWeeks)){var b=new Date(+m+(this.o.weekStart-k-7)%7*864e5),C=new Date(Number(b)+(11-b.getUTCDay())%7*864e5),_=new Date(Number(_=i(C.getUTCFullYear(),0,1))+(11-_.getUTCDay())%7*864e5),M=(C-_)/864e5/7+1;T.push('<td class="cw">'+M+"</td>")}w=this.getClassNames(m),w.push("day"),this.o.beforeShowDay!==e.noop&&(s=this.o.beforeShowDay(this._utc_to_local(m)),s===t?s={}:"boolean"==typeof s?s={enabled:s}:"string"==typeof s&&(s={classes:s}),s.enabled===!1&&w.push("disabled"),s.classes&&(w=w.concat(s.classes.split(/\s+/))),s.tooltip&&(a=s.tooltip)),w=e.isFunction(e.uniqueSort)?e.uniqueSort(w):e.unique(w),T.push('<td class="'+w.join(" ")+'"'+(a?' title="'+a+'"':"")+(this.o.dateCells?' data-date="'+m.getTime().toString()+'"':"")+">"+m.getUTCDate()+"</td>"),a=null,k===this.o.weekEnd&&T.push("</tr>"),m.setUTCDate(m.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(T.join(""));var x=g[this.o.language].monthsTitle||g.en.monthsTitle||"Months",U=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?x:r).end().find("tbody span").removeClass("active");if(e.each(this.dates,function(e,t){t.getUTCFullYear()===r&&U.eq(t.getUTCMonth()).addClass("active")}),(r<l||r>c)&&U.addClass("disabled"),r===l&&U.slice(0,h).addClass("disabled"),r===c&&U.slice(d+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var S=this;e.each(U,function(i,a){var s=new Date(r,i,1),n=S.o.beforeShowMonth(s);n===t?n={}:"boolean"==typeof n?n={enabled:n}:"string"==typeof n&&(n={classes:n}),n.enabled!==!1||e(a).hasClass("disabled")||e(a).addClass("disabled"),n.classes&&e(a).addClass(n.classes),n.tooltip&&e(a).prop("title",n.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,r,l,c,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,r,l,c,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,r,l,c,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e,t,i=new Date(this.viewDate),a=i.getUTCFullYear(),s=i.getUTCMonth();switch(this.viewMode){case 0:e=this.o.startDate!==-(1/0)&&a<=this.o.startDate.getUTCFullYear()&&s<=this.o.startDate.getUTCMonth(),t=this.o.endDate!==1/0&&a>=this.o.endDate.getUTCFullYear()&&s>=this.o.endDate.getUTCMonth();break;case 1:case 2:case 3:case 4:e=this.o.startDate!==-(1/0)&&a<=this.o.startDate.getUTCFullYear(),t=this.o.endDate!==1/0&&a>=this.o.endDate.getUTCFullYear()}this.picker.find(".prev").toggleClass("disabled",e),this.picker.find(".next").toggleClass("disabled",t)}},click:function(t){t.preventDefault(),t.stopPropagation();var s,n,r,o,l;s=e(t.target),s.hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),s.hasClass("today")&&!s.hasClass("day")&&(this.setViewMode(0),this._setDate(a(),"linked"===this.o.todayBtn?null:"view")),s.hasClass("clear")&&this.clearDates(),s.hasClass("disabled")||(s.hasClass("day")&&(r=Number(s.text()),o=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),(s.hasClass("old")||s.hasClass("new"))&&(n=s.hasClass("old")?-1:1,l=(l+n+12)%12,(n===-1&&11===l||1===n&&0===l)&&(o+=n,this.o.updateViewDate&&this._trigger("changeYear",this.viewDate)),this.o.updateViewDate&&this._trigger("changeMonth",this.viewDate)),this._setDate(i(o,l,r))),(s.hasClass("month")||s.hasClass("year")||s.hasClass("decade")||s.hasClass("century"))&&(this.viewDate.setUTCDate(1),r=1,1===this.viewMode?(l=s.parent().find("span").index(s),o=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(l)):(l=0,o=Number(s.text()),this.viewDate.setUTCFullYear(o)),this._trigger(v.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(i(o,l,r)):(this.setViewMode(this.viewMode-1),this.fill()))),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},navArrowsClick:function(t){var i=e(t.target),a=i.hasClass("prev")?-1:1;0!==this.viewMode&&(a*=12*v.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,a),this._trigger(v.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),t!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),(!t&&this.o.updateViewDate||"view"===t)&&(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var i=new Date(e);return i.setUTCDate(e.getUTCDate()+t),i},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!r(e))return this.o.defaultViewDate;if(!t)return e;var i,a,s=new Date(e.valueOf()),n=s.getUTCDate(),o=s.getUTCMonth(),l=Math.abs(t);if(t=t>0?1:-1,1===l)a=t===-1?function(){return s.getUTCMonth()===o}:function(){return s.getUTCMonth()!==i},i=o+t,s.setUTCMonth(i),i=(i+12)%12;else{for(var h=0;h<l;h++)s=this.moveMonth(s,t);i=s.getUTCMonth(),s.setUTCDate(n),a=function(){return i!==s.getUTCMonth()}}for(;a();)s.setUTCDate(--n),s.setUTCMonth(i);return s},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,i){do{if(e=this[i](e,t),!this.dateWithinRange(e))return!1;i="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(t){return e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||e.grep(this.o.datesDisabled,function(e){return s(t,e)}).length>0},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void(40!==e.keyCode&&27!==e.keyCode||(this.show(),e.stopPropagation()));var t,i,a=!1,s=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(i=this.moveAvailableDate(s,t,"moveYear"),i&&this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveAvailableDate(s,t,"moveMonth"),i&&this._trigger("changeMonth",this.viewDate)):37===e.keyCode||39===e.keyCode?i=this.moveAvailableDate(s,t,"moveDay"):this.weekOfDateIsDisabled(s)||(i=this.moveAvailableDate(s,t,"moveWeek")):1===this.viewMode?(38!==e.keyCode&&40!==e.keyCode||(t*=4),i=this.moveAvailableDate(s,t,"moveMonth")):2===this.viewMode&&(38!==e.keyCode&&40!==e.keyCode||(t*=4),i=this.moveAvailableDate(s,t,"moveYear")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),a=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}a&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))},setViewMode:function(e){this.viewMode=e,this.picker.children("div").hide().filter(".datepicker-"+v.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var d=function(t,i){e.data(t,"datepicker",this),this.element=e(t),this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e}),delete i.inputs,this.keepEmptyValues=i.keepEmptyValues,delete i.keepEmptyValues,p.call(e(this.inputs),i).on("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e.data(t,"datepicker")}),this.updateDates()};d.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(i){if(!this.updating){this.updating=!0;var a=e.data(i.target,"datepicker");if(a!==t){var s=a.getUTCDate(),n=this.keepEmptyValues,r=e.inArray(i.target,this.inputs),o=r-1,l=r+1,h=this.inputs.length;if(r!==-1){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t!==a&&n||t.setUTCDate(s)}),s<this.dates[o])for(;o>=0&&s<this.dates[o];)this.pickers[o--].setUTCDate(s);else if(s>this.dates[l])for(;l<h&&s>this.dates[l];)this.pickers[l++].setUTCDate(s);this.updateDates(),delete this.updating}}}},destroy:function(){e.map(this.pickers,function(e){e.destroy()}),e(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:n("destroy")};var u=e.fn.datepicker,p=function(i){var a=Array.apply(null,arguments);a.shift();var s;if(this.each(function(){var t=e(this),n=t.data("datepicker"),r="object"==typeof i&&i;if(!n){var h=o(this,"date"),u=e.extend({},f,h,r),p=l(u.language),m=e.extend({},f,p,h,r);t.hasClass("input-daterange")||m.inputs?(e.extend(m,{inputs:m.inputs||t.find("input").toArray()}),n=new d(this,m)):n=new c(this,m),t.data("datepicker",n)}"string"==typeof i&&"function"==typeof n[i]&&(s=n[i].apply(n,a))}),s===t||s instanceof c||s instanceof d)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return s};e.fn.datepicker=p;var f=e.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,beforeShowDecade:e.noop,beforeShowCentury:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,dateCells:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"}},m=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=c;var g=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(s,n,r,o){function l(e,t){return t===!0&&(t=10),e<100&&(e+=2e3,e>(new Date).getFullYear()+t&&(e-=100)),e}function h(){var e=this.slice(0,d[f].length),t=d[f].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!s)return t;if(s instanceof Date)return s;if("string"==typeof n&&(n=v.parseFormat(n)),n.toValue)return n.toValue(s,n,r);var d,u,p,f,m,y={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},D={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(s in D&&(s=D[s]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(s)){for(d=s.match(/([\-+]\d+)([dmwy])/gi),s=new Date,f=0;f<d.length;f++)u=d[f].match(/([\-+]\d+)([dmwy])/i),p=Number(u[1]),m=y[u[2].toLowerCase()],s=c.prototype[m](s,p);return i(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate())}d=s&&s.match(this.nonpunctuation)||[],s=new Date;var k,w,T={},b=["yyyy","yy","M","MM","m","mm","d","dd"],C={yyyy:function(e,t){return e.setUTCFullYear(o?l(t,o):t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};C.yy=C.yyyy,C.M=C.MM=C.mm=C.m,C.dd=C.d,s=a();var _=n.parts.slice();if(d.length!==_.length&&(_=e(_).filter(function(t,i){return e.inArray(i,b)!==-1}).toArray()),d.length===_.length){var M;for(f=0,M=_.length;f<M;f++){if(k=parseInt(d[f],10),u=_[f],isNaN(k))switch(u){case"MM":w=e(g[r].months).filter(h),k=e.inArray(w[0],g[r].months)+1;break;case"M":w=e(g[r].monthsShort).filter(h),k=e.inArray(w[0],g[r].monthsShort)+1}T[u]=k}var x,U;for(f=0;f<b.length;f++)U=b[f],U in T&&!isNaN(T[U])&&(x=new Date(s),C[U](x,T[U]),isNaN(x)||(s=x))}return s},formatDate:function(t,i,a){if(!t)return"";if("string"==typeof i&&(i=v.parseFormat(i)),i.toDisplay)return i.toDisplay(t,i,a);var s={d:t.getUTCDate(),D:g[a].daysShort[t.getUTCDay()],DD:g[a].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:g[a].monthsShort[t.getUTCMonth()],MM:g[a].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m,t=[];for(var n=e.extend([],i.separators),r=0,o=i.parts.length;r<=o;r++)n.length&&t.push(n.shift()),t.push(s[i.parts[r]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",
e.fn.datepicker.DPGlobal=v,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=u,this},e.fn.datepicker.version="1.7.0-dev",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);i.data("datepicker")||(t.preventDefault(),p.call(i,"show"))}),e(function(){p.call(e('[data-provide="datepicker-inline"]'))})}),function(e){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){var t=e[0];return t.offsetWidth>0&&t.offsetHeight>0}function i(t){if(t.minTime&&(t.minTime=D(t.minTime)),t.maxTime&&(t.maxTime=D(t.maxTime)),t.durationTime&&"function"!=typeof t.durationTime&&(t.durationTime=D(t.durationTime)),"now"==t.scrollDefault)t.scrollDefault=function(){return t.roundingFunction(D(new Date),t)};else if(t.scrollDefault&&"function"!=typeof t.scrollDefault){var i=t.scrollDefault;t.scrollDefault=function(){return t.roundingFunction(D(i),t)}}else t.minTime&&(t.scrollDefault=function(){return t.roundingFunction(t.minTime,t)});if("string"===e.type(t.timeFormat)&&t.timeFormat.match(/[gh]/)&&(t._twelveHourTime=!0),t.showOnFocus===!1&&t.showOn.indexOf("focus")!=-1&&t.showOn.splice(t.showOn.indexOf("focus"),1),t.disableTimeRanges.length>0){for(var a in t.disableTimeRanges)t.disableTimeRanges[a]=[D(t.disableTimeRanges[a][0]),D(t.disableTimeRanges[a][1])];t.disableTimeRanges=t.disableTimeRanges.sort(function(e,t){return e[0]-t[0]});for(var a=t.disableTimeRanges.length-1;a>0;a--)t.disableTimeRanges[a][0]<=t.disableTimeRanges[a-1][1]&&(t.disableTimeRanges[a-1]=[Math.min(t.disableTimeRanges[a][0],t.disableTimeRanges[a-1][0]),Math.max(t.disableTimeRanges[a][1],t.disableTimeRanges[a-1][1])],t.disableTimeRanges.splice(a,1))}return t}function a(t){var i=t.data("timepicker-settings"),a=t.data("timepicker-list");if(a&&a.length&&(a.remove(),t.data("timepicker-list",!1)),i.useSelect){a=e("<select />",{class:"ui-timepicker-select"});var r=a}else{a=e("<ul />",{class:"ui-timepicker-list"});var r=e("<div />",{class:"ui-timepicker-wrapper",tabindex:-1});r.css({display:"none",position:"absolute"}).append(a)}if(i.noneOption)if(i.noneOption===!0&&(i.noneOption=i.useSelect?"Time...":"None"),e.isArray(i.noneOption)){for(var l in i.noneOption)if(parseInt(l,10)==l){var c=s(i.noneOption[l],i.useSelect);a.append(c)}}else{var c=s(i.noneOption,i.useSelect);a.append(c)}if(i.className&&r.addClass(i.className),(null!==i.minTime||null!==i.durationTime)&&i.showDuration){"function"==typeof i.step?"function":i.step;r.addClass("ui-timepicker-with-duration"),r.addClass("ui-timepicker-step-"+i.step)}var d=i.minTime;"function"==typeof i.durationTime?d=D(i.durationTime()):null!==i.durationTime&&(d=i.durationTime);var p=null!==i.minTime?i.minTime:0,f=null!==i.maxTime?i.maxTime:p+k-1;f<p&&(f+=k),f===k-1&&"string"===e.type(i.timeFormat)&&i.show2400&&(f=k);var m=i.disableTimeRanges,w=0,b=m.length,C=i.step;"function"!=typeof C&&(C=function(){return i.step});for(var l=p,_=0;l<=f;_++,l+=60*C(_)){var M=l,x=y(M,i);if(i.useSelect){var U=e("<option />",{value:x});U.text(x)}else{var U=e("<li />");U.addClass(M%86400<43200?"ui-timepicker-am":"ui-timepicker-pm"),U.data("time",M<=86400?M:M%86400),U.text(x)}if((null!==i.minTime||null!==i.durationTime)&&i.showDuration){var S=v(l-d,i.step);if(i.useSelect)U.text(U.text()+" ("+S+")");else{var F=e("<span />",{class:"ui-timepicker-duration"});F.text(" ("+S+")"),U.append(F)}}w<b&&(M>=m[w][1]&&(w+=1),m[w]&&M>=m[w][0]&&M<m[w][1]&&(i.useSelect?U.prop("disabled",!0):U.addClass("ui-timepicker-disabled"))),a.append(U)}if(r.data("timepicker-input",t),t.data("timepicker-list",r),i.useSelect)t.val()&&a.val(n(D(t.val()),i)),a.on("focus",function(){e(this).data("timepicker-input").trigger("showTimepicker")}),a.on("blur",function(){e(this).data("timepicker-input").trigger("hideTimepicker")}),a.on("change",function(){u(t,e(this).val(),"select")}),u(t,a.val(),"initial"),t.hide().after(a);else{var O=i.appendTo;"string"==typeof O?O=e(O):"function"==typeof O&&(O=O(t)),O.append(r),h(t,a),a.on("mousedown click","li",function(i){t.off("focus.timepicker"),t.on("focus.timepicker-ie-hack",function(){t.off("focus.timepicker-ie-hack"),t.on("focus.timepicker",T.show)}),o(t)||t[0].focus(),a.find("li").removeClass("ui-timepicker-selected"),e(this).addClass("ui-timepicker-selected"),g(t)&&(t.trigger("hideTimepicker"),a.on("mouseup.timepicker click.timepicker","li",function(e){a.off("mouseup.timepicker click.timepicker"),r.hide()}))})}}function s(t,i){var a,s,n;return"object"==typeof t?(a=t.label,s=t.className,n=t.value):"string"==typeof t?a=t:e.error("Invalid noneOption value"),i?e("<option />",{value:n,class:s,text:a}):e("<li />",{class:s,text:a}).data("time",String(n))}function n(e,t){if(e=t.roundingFunction(e,t),null!==e)return y(e,t)}function r(t){if(t.target!=window){var i=e(t.target);i.closest(".ui-timepicker-input").length||i.closest(".ui-timepicker-wrapper").length||(T.hide(),e(document).unbind(".ui-timepicker"),e(window).unbind(".ui-timepicker"))}}function o(e){var t=e.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&t.disableTouchKeyboard}function l(t,i,a){if(!a&&0!==a)return!1;var s=t.data("timepicker-settings"),n=!1,a=s.roundingFunction(a,s);return i.find("li").each(function(t,i){var s=e(i);if("number"==typeof s.data("time"))return s.data("time")==a?(n=s,!1):void 0}),n}function h(e,t){t.find("li").removeClass("ui-timepicker-selected");var i=D(d(e),e.data("timepicker-settings"));if(null!==i){var a=l(e,t,i);if(a){var s=a.offset().top-t.offset().top;(s+a.outerHeight()>t.outerHeight()||s<0)&&t.scrollTop(t.scrollTop()+a.position().top-a.outerHeight()),a.addClass("ui-timepicker-selected")}}}function c(t,i){if(""!==this.value&&"timepicker"!=i){var a=e(this);if(!a.is(":focus")||t&&"change"==t.type){var s=a.data("timepicker-settings"),n=D(this.value,s);if(null===n)return void a.trigger("timeFormatError");var r=!1;if(null!==s.minTime&&null!==s.maxTime&&(n<s.minTime||n>s.maxTime)&&(r=!0),e.each(s.disableTimeRanges,function(){if(n>=this[0]&&n<this[1])return r=!0,!1}),s.forceRoundTime){var o=s.roundingFunction(n,s);o!=n&&(n=o,i=null)}var l=y(n,s);r?u(a,l,"error")&&a.trigger("timeRangeError"):u(a,l,i)}}}function d(e){return e.is("input")?e.val():e.data("ui-timepicker-value")}function u(e,t,i){if(e.is("input")){e.val(t);var a=e.data("timepicker-settings");a.useSelect&&"select"!=i&&"initial"!=i&&e.data("timepicker-list").val(n(D(t),a))}return e.data("ui-timepicker-value")!=t?(e.data("ui-timepicker-value",t),"select"==i?e.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):["error","initial"].indexOf(i)==-1&&e.trigger("changeTime"),!0):(e.trigger("selectTime"),!1)}function p(e){switch(e.keyCode){case 13:case 9:return;default:e.preventDefault()}}function f(i){var a=e(this),s=a.data("timepicker-list");if(!s||!t(s)){if(40!=i.keyCode)return!0;T.show.call(a.get(0)),s=a.data("timepicker-list"),o(a)||a.focus()}switch(i.keyCode){case 13:return g(a)&&(c.call(a.get(0),{type:"change"}),T.hide.apply(this)),i.preventDefault(),!1;case 38:var n=s.find(".ui-timepicker-selected");return n.length?n.is(":first-child")||(n.removeClass("ui-timepicker-selected"),n.prev().addClass("ui-timepicker-selected"),n.prev().position().top<n.outerHeight()&&s.scrollTop(s.scrollTop()-n.outerHeight())):(s.find("li").each(function(t,i){if(e(i).position().top>0)return n=e(i),!1}),n.addClass("ui-timepicker-selected")),!1;case 40:return n=s.find(".ui-timepicker-selected"),0===n.length?(s.find("li").each(function(t,i){if(e(i).position().top>0)return n=e(i),!1}),n.addClass("ui-timepicker-selected")):n.is(":last-child")||(n.removeClass("ui-timepicker-selected"),n.next().addClass("ui-timepicker-selected"),n.next().position().top+2*n.outerHeight()>s.outerHeight()&&s.scrollTop(s.scrollTop()+n.outerHeight())),!1;case 27:s.find("li").removeClass("ui-timepicker-selected"),T.hide();break;case 9:T.hide();break;default:return!0}}function m(i){var a=e(this),s=a.data("timepicker-list"),n=a.data("timepicker-settings");if(!s||!t(s)||n.disableTextInput)return!0;switch(i.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:n.typeaheadHighlight?h(a,s):s.hide()}}function g(e){var t=e.data("timepicker-settings"),i=e.data("timepicker-list"),a=null,s=i.find(".ui-timepicker-selected");return!s.hasClass("ui-timepicker-disabled")&&(s.length&&(a=s.data("time")),null!==a&&("string"!=typeof a&&(a=y(a,t)),u(e,a,"select")),!0)}function v(e,t){e=Math.abs(e);var i,a,s=Math.round(e/60),n=[];return s<60?n=[s,w.mins]:(i=Math.floor(s/60),a=s%60,30==t&&30==a&&(i+=w.decimal+5),n.push(i),n.push(1==i?w.hr:w.hrs),30!=t&&a&&(n.push(a),n.push(w.mins))),n.join(" ")}function y(t,i){if("number"!=typeof t)return null;var a=parseInt(t%60),s=parseInt(t/60%60),n=parseInt(t/3600%24),r=new Date(1970,0,2,n,s,a,0);if(isNaN(r.getTime()))return null;if("function"===e.type(i.timeFormat))return i.timeFormat(r);for(var o,l,h="",c=0;c<i.timeFormat.length;c++)switch(l=i.timeFormat.charAt(c)){case"a":h+=r.getHours()>11?w.pm:w.am;break;case"A":h+=r.getHours()>11?w.PM:w.AM;break;case"g":o=r.getHours()%12,h+=0===o?"12":o;break;case"G":o=r.getHours(),t===k&&(o=i.show2400?24:0),h+=o;break;case"h":o=r.getHours()%12,0!==o&&o<10&&(o="0"+o),h+=0===o?"12":o;break;case"H":o=r.getHours(),t===k&&(o=i.show2400?24:0),h+=o>9?o:"0"+o;break;case"i":var s=r.getMinutes();h+=s>9?s:"0"+s;break;case"s":a=r.getSeconds(),h+=a>9?a:"0"+a;break;case"\\":c++,h+=i.timeFormat.charAt(c);break;default:h+=l}return h}function D(e,t){if(""===e||null===e)return null;if("object"==typeof e)return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds();if("string"!=typeof e)return e;e=e.toLowerCase().replace(/[\s\.]/g,""),"a"!=e.slice(-1)&&"p"!=e.slice(-1)||(e+="m");var i="("+w.am.replace(".","")+"|"+w.pm.replace(".","")+"|"+w.AM.replace(".","")+"|"+w.PM.replace(".","")+")?",a=new RegExp("^"+i+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+i+"$"),s=e.match(a);if(!s)return null;var n=parseInt(1*s[2],10);if(n>24){if(t&&t.wrapHours===!1)return null;n%=24}var r=s[1]||s[5],o=n;if(n<=12&&r){var l=r==w.pm||r==w.PM;o=12==n?l?12:0:n+(l?12:0)}var h=1*s[3]||0,c=1*s[4]||0,d=3600*o+60*h+c;if(n<12&&!r&&t&&t._twelveHourTime&&t.scrollDefault){var u=d-t.scrollDefault();u<0&&u>=k/-2&&(d=(d+k/2)%k)}return d}var k=86400,w={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},T={init:function(t){return this.each(function(){var s=e(this),n=[];for(var r in e.fn.timepicker.defaults)s.data(r)&&(n[r]=s.data(r));var o=e.extend({},e.fn.timepicker.defaults,n,t);if(o.lang&&(w=e.extend(w,o.lang)),o=i(o),s.data("timepicker-settings",o),s.addClass("ui-timepicker-input"),o.useSelect)a(s);else{if(s.prop("autocomplete","off"),o.showOn)for(var l in o.showOn)s.on(o.showOn[l]+".timepicker",T.show);s.on("change.timepicker",c),s.on("keydown.timepicker",f),s.on("keyup.timepicker",m),o.disableTextInput&&s.on("keydown.timepicker",p),c.call(s.get(0),null,"initial")}})},show:function(i){var s=e(this),n=s.data("timepicker-settings");if(i&&i.preventDefault(),n.useSelect)return void s.data("timepicker-list").focus();o(s)&&s.blur();var c=s.data("timepicker-list");if(!s.prop("readonly")&&(c&&0!==c.length&&"function"!=typeof n.durationTime||(a(s),c=s.data("timepicker-list")),!t(c))){s.data("ui-timepicker-value",s.val()),h(s,c),T.hide(),c.show();var u={};n.orientation.match(/r/)?u.left=s.offset().left+s.outerWidth()-c.outerWidth()+parseInt(c.css("marginLeft").replace("px",""),10):u.left=s.offset().left+parseInt(c.css("marginLeft").replace("px",""),10);var p;p=n.orientation.match(/t/)?"t":n.orientation.match(/b/)?"b":s.offset().top+s.outerHeight(!0)+c.outerHeight()>e(window).height()+e(window).scrollTop()?"t":"b","t"==p?(c.addClass("ui-timepicker-positioned-top"),u.top=s.offset().top-c.outerHeight()+parseInt(c.css("marginTop").replace("px",""),10)):(c.removeClass("ui-timepicker-positioned-top"),u.top=s.offset().top+s.outerHeight()+parseInt(c.css("marginTop").replace("px",""),10)),c.offset(u);var f=c.find(".ui-timepicker-selected");if(!f.length){var m=D(d(s));null!==m?f=l(s,c,m):n.scrollDefault&&(f=l(s,c,n.scrollDefault()))}if(f&&f.length){var g=c.scrollTop()+f.position().top-f.outerHeight();c.scrollTop(g)}else c.scrollTop(0);return n.stopScrollPropagation&&e(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(t){t.preventDefault();var i=e(this).scrollTop();e(this).scrollTop(i+t.originalEvent.deltaY)}),e(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",r),e(window).on("resize.ui-timepicker",r),n.closeOnWindowScroll&&e(document).on("scroll.ui-timepicker",r),s.trigger("showTimepicker"),this}},hide:function(i){var a=e(this),s=a.data("timepicker-settings");return s&&s.useSelect&&a.blur(),e(".ui-timepicker-wrapper").each(function(){var i=e(this);if(t(i)){var a=i.data("timepicker-input"),s=a.data("timepicker-settings");s&&s.selectOnBlur&&g(a),i.hide(),a.trigger("hideTimepicker")}}),this},option:function(t,s){return"string"==typeof t&&"undefined"==typeof s?e(this).data("timepicker-settings")[t]:this.each(function(){var n=e(this),r=n.data("timepicker-settings"),o=n.data("timepicker-list");"object"==typeof t?r=e.extend(r,t):"string"==typeof t&&(r[t]=s),r=i(r),n.data("timepicker-settings",r),o&&(o.remove(),n.data("timepicker-list",!1)),r.useSelect&&a(n)})},getSecondsFromMidnight:function(){return D(d(this))},getTime:function(e){var t=this,i=d(t);if(!i)return null;var a=D(i);if(null===a)return null;e||(e=new Date);var s=new Date(e);return s.setHours(a/3600),s.setMinutes(a%3600/60),s.setSeconds(a%60),s.setMilliseconds(0),s},isVisible:function(){var e=this,i=e.data("timepicker-list");return!(!i||!t(i))},setTime:function(e){var t=this,i=t.data("timepicker-settings");if(i.forceRoundTime)var a=n(D(e),i);else var a=y(D(e),i);return e&&null===a&&i.noneOption&&(a=e),u(t,a),t.data("timepicker-list")&&h(t,t.data("timepicker-list")),this},remove:function(){var e=this;if(e.hasClass("ui-timepicker-input")){var t=e.data("timepicker-settings");return e.removeAttr("autocomplete","off"),e.removeClass("ui-timepicker-input"),e.removeData("timepicker-settings"),e.off(".timepicker"),e.data("timepicker-list")&&e.data("timepicker-list").remove(),t.useSelect&&e.show(),e.removeData("timepicker-list"),this}}};e.fn.timepicker=function(t){return this.length?T[t]?this.hasClass("ui-timepicker-input")?T[t].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.timepicker"):T.init.apply(this,arguments):this},e.fn.timepicker.defaults={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(e,t){if(null===e)return null;if("number"!=typeof t.step)return e;var i=e%(60*t.step);return i>=30*t.step?e+=60*t.step-i:e-=i,e==k&&t.show2400?e:e%k},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0}});